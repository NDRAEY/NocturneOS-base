[lib]
crate-type = [ "staticlib" ]

[package]
name = "nocturne"
version = "0.1.0"
edition = "2021"

[workspace]
members = [ "noct-alloc", "noct-dpm-sys", "noct-fs-sys", "noct-iso9660", "noct-logger", "noct-path", "noct-physmem", "noct-screen" , "noct-tarfs"]

[dependencies]
lazy_static = { version = "1.4.0", features = ["spin_no_std"] }
spin = "0.5.2"
x86 = "0.52.0"
noct-alloc = { path = "./noct-alloc" }
noct-fs-sys = { path = "./noct-fs-sys" }
noct-dpm-sys = { path = "./noct-dpm-sys" }
noct-logger = { path = "./noct-logger" }
noct-path = { path = "./noct-path" }
noct-iso9660 = { path = "./noct-iso9660" }
noct-screen = { path = "./noct-screen" }
raw-cpuid = "11.4.0"
zeraus = { git = "https://github.com/NDRAEY/zeraus", version = "0.1.0", features = ["no_std"] }
elf = { version = "0.7.4", default-features = false }
noct-tarfs = { path = "./noct-tarfs" }

[profile.release]
panic = "abort"
lto = true
strip = true
opt-level = 2

[profile.release_no_opt]
inherits = "release"
opt-level = 0

[profile.dev]
panic = "abort"
strip = true
opt-level = 0
codegen-units = 1
